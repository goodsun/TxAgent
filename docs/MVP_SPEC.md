# MetaMask Clipboard Bridge - MVPä»•æ§˜

## ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆ
ã€Œä½•ã‚’ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã‹ã€ã‚’å®Œå…¨ã«å¯è¦–åŒ–ã—ãŸã‚»ã‚­ãƒ¥ã‚¢ãªãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³

## MVPå®Ÿè£…ä»•æ§˜

### 1. åŸºæœ¬ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
```typescript
interface ClipboardTransaction {
  // å¿…é ˆï¼šãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œãƒ‡ãƒ¼ã‚¿
  tx: {
    to: string;      // é€ä¿¡å…ˆã‚¢ãƒ‰ãƒ¬ã‚¹
    data: string;    // calldata
    value: string;   // é€é‡‘é¡ï¼ˆweiï¼‰
  };
  
  // å¿…é ˆï¼šäººé–“ãŒèª­ã‚ã‚‹èª¬æ˜
  readable: {
    action: string;           // "NFTã‚’è»¢é€" 
    targetContract: string;   // "CryptoKitties"
    summary: string;          // "CryptoKitties #1234 ã‚’å±±ç”°ã•ã‚“ã«è»¢é€"
    details: {               // è©³ç´°ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
      [key: string]: any;
    }
  };
  
  // å¿…é ˆï¼šã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æƒ…å ±
  security: {
    origin: string;          // "https://example.com"
    timestamp: number;       // Unix timestamp
    chainId: number;         // 1 (mainnet), 137 (polygon)ç­‰
  };
}
```

### 2. DAppå´å®Ÿè£…ä¾‹
```javascript
// NFTè»¢é€ã®ä¾‹
const txData = {
  tx: {
    to: "0x06012c8cf97BEaD5deAe237070F9587f8E7A266d", // CryptoKitties
    data: "0xa9059cbb000000000000000000000000...",     // transfer calldata
    value: "0x0"
  },
  readable: {
    action: "NFTè»¢é€",
    targetContract: "CryptoKitties", 
    summary: "CryptoKitties #1234 ã‚’ ç”°ä¸­ã•ã‚“(0xabc...def) ã«è»¢é€",
    details: {
      tokenId: "1234",
      tokenName: "Fluffy Cat",
      recipient: "0xabc...def",
      recipientENS: "tanaka.eth"
    }
  },
  security: {
    origin: "https://cryptokitties.co",
    timestamp: Date.now(),
    chainId: 1
  }
};

// Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¦ã‚³ãƒ”ãƒ¼
const encoded = btoa(JSON.stringify(txData));
await navigator.clipboard.writeText(encoded);
```

### 3. MetaMaskå´ã§ã®è¡¨ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ” ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç¢ºèª           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ ğŸ“‹ æ“ä½œ: NFTè»¢é€                    â”‚
â”‚                                     â”‚
â”‚ ğŸ¯ å¯¾è±¡: CryptoKitties              â”‚
â”‚                                     â”‚
â”‚ ğŸ“ å†…å®¹:                            â”‚
â”‚ CryptoKitties #1234 ã‚’              â”‚
â”‚ ç”°ä¸­ã•ã‚“(tanaka.eth) ã«è»¢é€         â”‚
â”‚                                     â”‚
â”‚ ğŸ” è©³ç´°:                            â”‚
â”‚ â€¢ Token: Fluffy Cat (#1234)         â”‚
â”‚ â€¢ é€ä¿¡å…ˆ: 0xabc...def               â”‚
â”‚ â€¢ é€ä¿¡å…ƒ: cryptokitties.co          â”‚
â”‚                                     â”‚
â”‚ âš ï¸  ã‚¬ã‚¹ä»£: ç´„ 0.003 ETH            â”‚
â”‚                                     â”‚
â”‚ [æ‹’å¦]            [ç¢ºèªã—ã¦ç½²å]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. ã•ã‚‰ãªã‚‹å¯èª­æ€§å‘ä¸Šæ©Ÿèƒ½

#### A. ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆæ¤œè¨¼ãƒãƒƒã‚¸
```javascript
readable: {
  verification: {
    etherscan: true,      // âœ“ Etherscanèªè¨¼æ¸ˆã¿
    audited: true,        // âœ“ ç›£æŸ»æ¸ˆã¿
    knownContract: "OpenSea"  // æ—¢çŸ¥ã®å¤§æ‰‹ã‚µãƒ¼ãƒ“ã‚¹
  }
}
```

#### B. ãƒªã‚¹ã‚¯è­¦å‘Š
```javascript
readable: {
  warnings: [
    "å¤§é‡ã®NFTã‚’ä¸€åº¦ã«è»¢é€ã—ã¦ã„ã¾ã™",
    "é€ä¿¡å…ˆã¯æ–°è¦ä½œæˆã•ã‚ŒãŸã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã™"
  ]
}
```

#### C. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³åŠ¹æœã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
```javascript
readable: {
  effects: {
    before: "ã‚ãªãŸã¯CryptoKitties #1234ã‚’æ‰€æœ‰",
    after: "ç”°ä¸­ã•ã‚“ãŒCryptoKitties #1234ã‚’æ‰€æœ‰",
    gasEstimate: "0.003 ETH"
  }
}
```

## å®Ÿè£…ã®åˆ©ç‚¹

1. **å®Œå…¨ãªé€æ˜æ€§**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä½•ãŒèµ·ãã‚‹ã‹å®Œå…¨ã«ç†è§£ã§ãã‚‹
2. **è©æ¬ºé˜²æ­¢**: æ€ªã—ã„ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚„æ“ä½œãŒä¸€ç›®ç­ç„¶
3. **ä½¿ã„ã‚„ã™ã•**: æŠ€è¡“ã«è©³ã—ããªã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã‚‚å®‰å¿ƒ
4. **æ—¢å­˜MetaMaskäº’æ›**: å¤§ããªæ”¹ä¿®ãªã—ã§å®Ÿè£…å¯èƒ½

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—é–‹ç™º**
   - ã‚·ãƒ³ãƒ—ãƒ«ãªERC20è»¢é€ã‹ã‚‰é–‹å§‹
   - å¾ã€…ã«è¤‡é›‘ãªãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«å¯¾å¿œ

2. **MetaMask Snapé–‹ç™º**
   - ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰ã®èª­ã¿å–ã‚Š
   - å¯èª­åŒ–UIã®å®Ÿè£…

3. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»**
   - ãƒ‡ãƒ¼ã‚¿æ”¹ã–ã‚“é˜²æ­¢
   - ãƒ•ã‚£ãƒƒã‚·ãƒ³ã‚°å¯¾ç­–

ã“ã‚Œãªã‚‰ã€Œä½•ã‚’ã—ã¦ã„ã‚‹ã‹åˆ†ã‹ã‚‰ãªã„ã¾ã¾ç½²åã€ã¨ã„ã†å•é¡Œã‚’å®Œå…¨ã«è§£æ±ºã§ãã¾ã™ï¼